(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4655],{6908:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/country-rankings/[slug]",function(){return n(1610)}])},5147:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(1438),u=n(2951),o=n(8029),i=n(5950),l=n(7997),a=function(e){(0,o.Z)(n,e);var t=(0,i.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"componentDidMount",value:function(){var e=document.createElement("script");e.async=!0,e.type="text/javascript",e.src="https://public.flourish.studio/resources/embed.js",document.body.appendChild(e)}},{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){var e=this,t=this.props.id;return(0,l.tZ)("div",{ref:function(t){return e.instance=t},children:(0,l.tZ)("div",{className:"flourish-embed","data-src":t,"data-url":"https://flo.uri.sh/visualisation/".concat(t,"/embed")})})}}]),n}(n(1720).Component)},638:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6856).Z;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=i.default,o=(null==t?void 0:t.suspense)?{}:{loading:function(e){return e.error,e.isLoading,e.pastDelay,null}};if(r(e,Promise)?o.loader=function(){return e}:"function"==typeof e?o.loader=e:"object"==typeof e&&(o=u({},o,e)),(o=u({},o,t)).suspense)throw Error("Invalid suspense option usage in next/dynamic. Read more: https://nextjs.org/docs/messages/invalid-dynamic-suspense");if(o.suspense&&(delete o.ssr,delete o.loading),o.loadableGenerated&&delete(o=u({},o,o.loadableGenerated)).loadableGenerated,"boolean"==typeof o.ssr&&!o.suspense){if(!o.ssr)return delete o.ssr,l(n,o);delete o.ssr}return n(o)},t.noSSR=l;var u=n(6495).Z,o=n(2648).Z,i=(o(n(1720)),o(n(4302)));function l(e,t){return delete t.webpack,delete t.modules,e(t)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},6319:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoadableContext=void 0;var r=(0,n(2648).Z)(n(1720)).default.createContext(null);t.LoadableContext=r},4302:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9658).Z,u=n(7222).Z;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(6495).Z,i=(0,n(2648).Z)(n(1720)),l=n(6319),a=n(1849).useSyncExternalStore,s=[],d=[],c=!1;function f(e){var t=e(),n={loading:!0,loaded:null,error:null};return n.promise=t.then(function(e){return n.loading=!1,n.loaded=e,e}).catch(function(e){throw n.loading=!1,n.error=e,e}),n}var p=function(){function e(t,n){r(this,e),this._loadFn=t,this._opts=n,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}return u(e,[{key:"promise",value:function(){return this._res.promise}},{key:"retry",value:function(){var e=this;this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};var t=this._res,n=this._opts;t.loading&&("number"==typeof n.delay&&(0===n.delay?this._state.pastDelay=!0:this._delay=setTimeout(function(){e._update({pastDelay:!0})},n.delay)),"number"==typeof n.timeout&&(this._timeout=setTimeout(function(){e._update({timedOut:!0})},n.timeout))),this._res.promise.then(function(){e._update({}),e._clearTimeouts()}).catch(function(t){e._update({}),e._clearTimeouts()}),this._update({})}},{key:"_update",value:function(e){this._state=o({},this._state,{error:this._res.error,loaded:this._res.loaded,loading:this._res.loading},e),this._callbacks.forEach(function(e){return e()})}},{key:"_clearTimeouts",value:function(){clearTimeout(this._delay),clearTimeout(this._timeout)}},{key:"getCurrentValue",value:function(){return this._state}},{key:"subscribe",value:function(e){var t=this;return this._callbacks.add(e),function(){t._callbacks.delete(e)}}}]),e}();function h(e){return function(e,t){var n=function(){if(!h){var t=new p(e,f);h={getCurrentValue:t.getCurrentValue.bind(t),subscribe:t.subscribe.bind(t),retry:t.retry.bind(t),promise:t.promise.bind(t)}}return h.promise()},r=function(){n();var e=i.default.useContext(l.LoadableContext);e&&Array.isArray(f.modules)&&f.modules.forEach(function(t){e(t)})},u=function(e,t){r();var n=a(h.subscribe,h.getCurrentValue,h.getCurrentValue);return i.default.useImperativeHandle(t,function(){return{retry:h.retry}},[]),i.default.useMemo(function(){var t;return n.loading||n.error?i.default.createElement(f.loading,{isLoading:n.loading,pastDelay:n.pastDelay,timedOut:n.timedOut,error:n.error,retry:h.retry}):n.loaded?i.default.createElement((t=n.loaded)&&t.__esModule?t.default:t,e):null},[e,n])},s=function(e,t){return r(),i.default.createElement(f.lazy,o({},e,{ref:t}))},f=Object.assign({loader:null,loading:null,delay:200,timeout:null,webpack:null,modules:null,suspense:!1},t);f.suspense&&(f.lazy=i.default.lazy(f.loader));var h=null;if(!c){var m=f.webpack?f.webpack():f.modules;m&&d.push(function(e){var t=!0,r=!1,u=void 0;try{for(var o,i=m[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var l=o.value;if(-1!==e.indexOf(l))return n()}}catch(a){r=!0,u=a}finally{try{t||null==i.return||i.return()}finally{if(r)throw u}}})}var v=f.suspense?s:u;return v.preload=function(){return n()},v.displayName="LoadableComponent",i.default.forwardRef(v)}(f,e)}function m(e,t){for(var n=[];e.length;){var r=e.pop();n.push(r(t))}return Promise.all(n).then(function(){if(e.length)return m(e,t)})}h.preloadAll=function(){return new Promise(function(e,t){m(s).then(e,t)})},h.preloadReady=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new Promise(function(t){var n=function(){return c=!0,t()};m(d,e).then(n,n)})},window.__NEXT_PRELOADREADY=h.preloadReady,t.default=h},1610:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return E},default:function(){return x}});var r=n(7997),u=n(3592),o=n(2351),i=n(1090),l=n(2477),a=n(2884),s=n(5147),d=n(6001),c=n(9014),f=n(2851),p=n(1877),h=n(5459),m=n(6042),v=n(9396),y=n(3405),_=n(7484),b=function(e){if("string"==typeof e){if(e in _.q4)return _.q4[e];throw Error("Unknown defined column ".concat(e))}return(0,v.Z)((0,m.Z)({},e),{format:e.format?(0,y.U)(e.format):function(e){return e}})},g=function(e){return(e||["country","population"]).map(b)},Z=n(6207),w=n(9965),C=n(5152),k=n.n(C)()(function(){return Promise.all([n.e(5905),n.e(2241),n.e(5675),n.e(8080),n.e(2319)]).then(n.bind(n,8080))},{loadableGenerated:{webpack:function(){return[8080]}}}),S=function(e){var t,n=e.data,u=e.mapConfig,o=void 0===u?{}:u,i=o.hideMap,l=o.field,a=o.legendTitle,s=o.reverseColors,d=o.customColors,c=o.thresholds,f=o.scheme,h=e.columns,m=e.title;if(i)return null;if(!l&&n)return(0,r.tZ)(k,{highlighted:n.map(function(e){return e.cca3}),legendTitle:m});var v=h.filter(function(e){return!["country",p.UP].includes(e.field)}),y=h.find(function(e){return e.field===l}),_=n.sort(function(e,t){return t[l]-e[l]}).map(function(e,t){return e.rank=t+1,e}),b=(null==y?void 0:y.format)?y.format:function(e){return e};return a||(a=null!==(t=null==y?void 0:y.header)&&void 0!==t?t:m),(0,r.tZ)(k,{data:_,formatter:b,tooltipColumns:v,legendTitle:a,field:l,reverseColors:s,customColors:d,thresholds:c,scheme:f})},E=!0,x=function(e){var t,n,m,v=e.article,y=e.data,_=e.listing,b=e.sources,C=e.title,k=e.dataTables,E=e.finalCount;return(0,r.BX)(u.Z,{title:C,children:[(0,r.BX)(a.s_,{title:C,sources:b,children:[(0,r.BX)(a.Qu,{columns:8,children:[(0,r.tZ)("h1",{children:C}),(0,r.tZ)(S,{data:_,mapConfig:y.mapConfig,columns:g(y.columns),title:C}),(0,r.tZ)(Z.ID,{}),(0,r.tZ)(o.Z,{article:v}),(0,h.qo)(y.listConfig).map(function(e,t){return(0,r.tZ)(c.Z,{data:_,column:g(y.columns).find(function(t){return(null==e?void 0:e.field)===t.field}),listConfig:e},t)}),(null==y?void 0:y.flourishId)&&(0,r.tZ)(s.Z,{id:y.flourishId})]}),(0,r.tZ)(a.Qu,{columns:4,padTop:!0,hasStickySidebarAd:!0,children:(0,r.tZ)(Z.xk,{})})]}),(0,r.tZ)(f.Z,{columns:g(y.columns),data:_,nameField:"country",props:y.scatterChartProps,filterGroups:(null==y?void 0:y.filterGroups)||null,sortAsc:(null===(t=y.sort)||void 0===t?void 0:t.asc)||!1,sources:b,title:C}),(0,r.BX)(a.s_,{title:C,sources:b,children:[(0,r.tZ)(a.Qu,{columns:8,children:0!==_.length&&(0,r.BX)(r.HY,{children:[(0,r.tZ)(d.Z,{note:y.note,isHtml:!0}),(0,r.tZ)(i.Z,{columns:g(y.columns).filter(function(e){return!e.hide}),data:_,sort:(null===(n=y.sort)||void 0===n?void 0:n.field)||p.UP,sortAsc:(null===(m=y.sort)||void 0===m?void 0:m.asc)||!1,multiSorting:y.multiSorting||[]}),(0,r.tZ)(w.Z,{})]})}),(0,r.BX)(a.Qu,{columns:4,hasStickySidebarAd:!0,children:[y.count&&(0,r.BX)("div",{style:{textAlign:"center"},children:[(0,r.tZ)("div",{style:{fontSize:96,height:120,lineHeight:"120px"},children:E}),(0,r.BX)("p",{children:["There are ",E," ",y.count.label,"."]})]}),(0,r.tZ)(Z.Cb,{})]})]}),k.map(function(e,t){return(0,r.tZ)(a.DV,{title:C,children:(0,r.tZ)(i.Z,{columns:g(e.columns),data:e.data,sort:e.sort.field,sortAsc:e.sort.asc})},t)}),(0,r.tZ)(l.Z,{sources:b})]})}},5152:function(e,t,n){e.exports=n(638)},7651:function(e,t,n){"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ var r=n(1720),u="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=r.useState,i=r.useEffect,l=r.useLayoutEffect,a=r.useDebugValue;function s(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!u(e,n)}catch(r){return!0}}function d(e,t){return t()}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?d:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),u=r[0].inst,d=r[1];return l(function(){u.value=n,u.getSnapshot=t,s(u)&&d({inst:u})},[e,n,t]),i(function(){return s(u)&&d({inst:u}),e(function(){s(u)&&d({inst:u})})},[e]),a(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:c},1849:function(e,t,n){"use strict";e.exports=n(7651)}},function(e){e.O(0,[5445,2053,2035,8650,918,6653,4162,1845,9640,7480,7222,9774,2888,179],function(){return e(e.s=6908)}),_N_E=e.O()}]);